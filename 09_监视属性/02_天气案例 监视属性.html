<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>监视属性</title>
  <script src="/js/vue.js"></script>
</head>

<body>
  <!-- 
    监视属性watch
      1.当监视属性变化时,回调函数自动调用（handle）,进行相关操作
      2.监视的属性必须存在,才能进行监视
      3,监视的两种写法
        1.new Vue的时候传入配置
        {
          watch:{
            isHot:{
              handle(){

              }

            }
          }
        }
        2.vm.$watch("isHot",{
          immediate:true//当监视属性改变时 首先调用一次handle
          handle(newValue,oldValue){
            console.log(newValue,oldValue);
          }
        })



   -->
  <div id="root">
    <!-- <h2>今天天气很{{isHot ?'炎热':"凉爽"}}</h2> -->
    <h2>今天天气很一般{{info}}</h2>
    <button @click="isHot=!isHot">切换天气</button>
    <!--绑定事件的时候 @xxx="yyy "  yyy可以写一些简单的语句 -->
    <!-- <button @click="tab">切换天气</button> -->
  </div>
  <script>
    Vue.config.productionTip = false;
    const vm = new Vue({
      el: "#root",
      data: {
        isHot: true,
      },
      methods: {
        tab() {
          this.isHot = !this.isHot;
        }
      },
      computed: {
        info() {
          if (this.isHot) return "炎热";
          return "凉爽";
        }
      },
      /*  watch:{
         isHot:{
           // immediate默认值时false  作用初始化是让handle 调用一下
           immediate:true,
           //handler 什么时候调用 当isHot发生改变时 调用
            handler(newValue,oldValue){
             console.log("isHot被修改了",newValue,oldValue)
            }
         }
       } */
    });
    vm.$watch("isHot", {
      immediate: true,
      //handler 什么时候调用 当isHot发生改变时 调用
      handler(newValue, oldValue) {
        console.log("isHot被修改了", newValue, oldValue)
      }

    })
  </script>
</body>

</html>

</body>

</html>