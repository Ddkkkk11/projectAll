<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>全选练习</title>
	<style>
		body {
			text-align: center;
		}
	</style>

</head>

<body>

	<form method="post" action="">
		你爱好的运动是？<input type="checkbox" id="checkedAllBox" />全选/全不选

		<br />
		<input type="checkbox" name="items" value="足球" />足球
		<input type="checkbox" name="items" value="篮球" />篮球
		<input type="checkbox" name="items" value="羽毛球" />羽毛球
		<input type="checkbox" name="items" value="乒乓球" />乒乓球
		<br />
		<input type="button" id="checkedAllBtn" value="全　选" />
		<input type="button" id="checkedNoBtn" value="全不选" />
		<input type="button" id="checkedRevBtn" value="反　选" />
		<input type="button" id="sendBtn" value="提　交" />
	</form>
	<script>
		/* 
		全选按钮
			点击按钮后
				--四个多选框全都被选中
		*/
		// 写一个函数用于给按钮绑定单击事件
		function myClick(btnName, fun) {
			var btn = document.getElementById(btnName);
			btn.onclick = fun;
		}
		//1.#checkedA11Btn
		// 为id为checkedAllBtn绑定单击函数事件
		myClick("checkedAllBtn", function () {
			// 设置多选框让四个选项全部选中
			// 先获取四个选项 因为他们名字一样
			var four = document.getElementsByName("items");
			// 遍历数组

			for (let index = 0; index < four.length; index++) {
				four[index].checked = true;
				let all = document.getElementById("checkedAllBox");
				all.checked = true;
			}
			// 设置四个多选框变为选中状态 通过checked属性可以设置多选框的选中状态
		});
		//2.#checkedNoBtn
		// 全不选
		myClick("checkedNoBtn", function () {
			var four = document.getElementsByName("items");
			for (let index = 0; index < four.length; index++) {
				let all = document.getElementById("checkedAllBox");
				four[index].checked = false;
				all.checked = false;
			}
		});
		//3.#checkedRevBtn
		// 反选  选中的变成不选中的  没选中的变成选中的
		myClick("checkedRevBtn", function () {
			var rev = document.getElementsByName("items");
			var all2 = document.getElementById("checkedAllBox");
			// 在反选也需要判断四个是否都选中
			all2.checked = true;
			for (let index = 0; index < rev.length; index++) {
				rev[index].checked = !rev[index].checked;
				// 判断四个是否全选  如果item[index].checked 为true 不能说明都被选中
				if (!rev[index].checked) {
					// 进入判断说明 则证明不是全选状态
					all2.checked = false;
					// 一旦进入判断则已经得到了结果 结束循环即可
				}

			}


		});
		// 4.#sendBtn
		// 提交
		myClick("sendBtn", function () {
			var rev = document.getElementsByName("items");
			for (let index = 0; index < rev.length; index++) {
				if (rev[index].checked) {
					alert(rev[index].value)
				}
			}
		});
		//5.#checkedA11Box
		// 当 全选打开的时候 下面四个选项打开 不全选打开后 下面四个都是不全选的
		// 在事件函数中,响应函数给谁绑定的 this就是谁
		myClick("checkedAllBox", function () {
			var four = document.getElementsByName("items");
			// var a = document.getElementById("checkedAllBox");
			for (let index = 0; index < four.length; index++) {
				four[index].checked = this.checked;
			}
		});
		// 6.items
		// 获取item对象
		// 如果四个选项框选中则checkAllBox也应该选中
		// 如果四个多选框都没选中 则checkAllBox也不应该选中
		var item = document.getElementsByName("items");
		var all = document.getElementById("checkedAllBox");
		// 为四个多选框分别绑定点击响应函数
		for (let index = 0; index < item.length; index++) {
			item[index].onclick = function () {
				// 在刚点击的时候all.checked=true;
				// 将全选按钮设置为选中状态
				all.checked = true;
				// 判断四个是否全选
				for (let index = 0; index < item.length; index++) {
					// 判断四个是否全选  如果item[index].checked 为true 不能说明都被选中
					if (!item[index].checked) {
						// 进入判断说明 则正品不是全选状态
						all.checked = false;
						break;
						// 一旦进入判断则已经得到了结果 结束循环即可
					}
				}

			};
		}

	</script>
</body>

</html>